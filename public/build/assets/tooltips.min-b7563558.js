(function(o){o.fn.tipTip=function(y){var P={activation:"hover",keepAlive:!1,maxWidth:"200px",edgeOffset:3,defaultPosition:"top",delay:80,fadeIn:200,fadeOut:50,attribute:"title",content:!1,enter:function(){},exit:function(){}},t=o.extend(P,y);if(o("#tiptip_holder").length<=0){var i=o('<div id="tiptip_holder" style="max-width:'+t.maxWidth+';"></div>'),g=o('<div id="tiptip_content"></div>'),_=o('<div id="tiptip_arrow"></div>');o("html").append(i.html(g).prepend(_.html('<div id="tiptip_arrow_inner"></div>')))}else var i=o("#tiptip_holder"),g=o("#tiptip_content"),_=o("#tiptip_arrow");return this.each(function(){var r=o(this);if(t.content)var w=t.content;else var w=r.attr(t.attribute);if(w!=""){let h=function(){t.enter.call(this),g.html(w),i.hide().removeAttr("class").css("margin","0"),_.removeAttr("style");var f=parseInt(r.offset().top),s=parseInt(r.offset().left),x=parseInt(r.outerWidth()),v=parseInt(r.outerHeight()),d=i.outerWidth(),n=i.outerHeight(),m=Math.round((x-d)/2),I=Math.round((v-n)/2),c=Math.round(s+m),a=Math.round(f+v+t.edgeOffset),e="",p="",b=Math.round(d-12)/2;t.defaultPosition=="bottom"?e="_bottom":t.defaultPosition=="top"?e="_top":t.defaultPosition=="left"?e="_left":t.defaultPosition=="right"&&(e="_right");var A=m+s<parseInt(o(window).scrollLeft()),k=d+s>parseInt(o(window).width());A&&m<0||e=="_right"&&!k||e=="_left"&&s<d+t.edgeOffset+5?(e="_right",p=Math.round(n-13)/2,b=-12,c=Math.round(s+x+t.edgeOffset),a=Math.round(f+I)):(k&&m<0||e=="_left"&&!A)&&(e="_left",p=Math.round(n-13)/2,b=Math.round(d),c=Math.round(s-(d+t.edgeOffset+5)),a=Math.round(f+I));var M=f+v+t.edgeOffset+n+8>parseInt(o(window).height()+o(window).scrollTop()),O=f+v-(t.edgeOffset+n+8)<0;M||e=="_bottom"&&M||e=="_top"&&!O?(e=="_top"||e=="_bottom"?e="_top":e=e+"_top",p=n,a=Math.round(f-(n+5+t.edgeOffset))):(O|(e=="_top"&&O)||e=="_bottom"&&!M)&&(e=="_top"||e=="_bottom"?e="_bottom":e=e+"_bottom",p=-12,a=Math.round(f+v+t.edgeOffset)),e=="_right_top"||e=="_left_top"?a=a+5:(e=="_right_bottom"||e=="_left_bottom")&&(a=a-5),(e=="_left_top"||e=="_left_bottom")&&(c=c+5),_.css({"margin-left":b+"px","margin-top":p+"px"}),i.css({"margin-left":c+"px","margin-top":a+"px"}).attr("class","tip"+e),u&&clearTimeout(u),u=setTimeout(function(){i.stop(!0,!0).fadeIn(t.fadeIn)},t.delay)},l=function(){t.exit.call(this),u&&clearTimeout(u),i.fadeOut(t.fadeOut)};var T=h,W=l;t.content||r.removeAttr(t.attribute);var u=!1;t.activation=="hover"?(r.hover(function(){h()},function(){t.keepAlive||l()}),t.keepAlive&&i.hover(function(){},function(){l()})):t.activation=="focus"?r.focus(function(){h()}).blur(function(){l()}):t.activation=="click"&&(r.click(function(){return h(),!1}).hover(function(){},function(){t.keepAlive||l()}),t.keepAlive&&i.hover(function(){},function(){l()}))}})}})(jQuery);
