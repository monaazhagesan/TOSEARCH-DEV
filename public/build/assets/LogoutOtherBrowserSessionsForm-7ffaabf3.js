import{r as _,j as C,i as r,o as c,c as I,w as s,T as $,f as t,d as l,F as L,g as M,e as O,a as i,b as a,a2 as A,n as T,t as m}from"./app-a9ec9377.js";import{_ as V}from"./ActionMessage-21280f3e.js";import{_ as x}from"./Modal-ea53e471.js";import{_ as F}from"./DialogModal-17b78625.js";import{a as D,_ as E}from"./TextInput-9fc27357.js";import{_ as P}from"./PrimaryButton-78c7ef01.js";import{_ as N}from"./SecondaryButton-a324488e.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import{I as U,F as j,B as z}from"./index-c4860977.js";import"./SectionTitle-f4cc5261.js";import"./collapseMotion-cc415b30.js";const d=_(!1),p=_(null),q=()=>{d.value=!0,setTimeout(()=>p.value.focus(),250)},G=C({props:{sessions:Array},components:{"a-input":U,"a-form-item":j,"a-button":z,ActionMessage:V,ActionSection:x,DialogModal:F,InputError:D,PrimaryButton:P,SecondaryButton:N,TextInput:E},setup(o){const n=$({password:""}),f=()=>{n.delete(route("other-browser-sessions.destroy"),{preserveScroll:!0,onSuccess:()=>u(),onError:()=>p.value.focus(),onFinish:()=>n.reset()})},u=()=>{d.value=!1,n.reset()};return{confirmingLogout:d,passwordInput:p,form:n,confirmLogout:q,logoutOtherBrowserSessions:f,closeModal:u}}}),H=i("div",{class:"max-w-xl text-sm text-gray-600"}," If necessary, you may log out of all of your other browser sessions across all of your devices. Some of your recent sessions are listed below; however, this list may not be exhaustive. If you feel your account has been compromised, you should also update your password. ",-1),J={key:0,class:"mt-2"},Q={class:"mt-2"},R={class:"text-sm text-gray-600"},W={class:"text-xs text-gray-500"},X={key:0,class:"text-green-500 font-semibold"},Y={key:1},Z={class:"mt-2"},oo={class:"mt-4"};function so(o,n,f,u,eo,to){const g=r("a-button"),y=r("ActionMessage"),w=r("TextInput"),h=r("InputError"),v=r("SecondaryButton"),B=r("PrimaryButton"),S=r("DialogModal"),b=r("ActionSection");return c(),I(b,{class:"mt-2"},{title:s(()=>[t(" Browser Sessions ")]),description:s(()=>[t(" Manage and log out your active sessions on other browsers and devices. ")]),content:s(()=>[H,o.sessions.length>0?(c(),l("div",J,[(c(!0),l(L,null,M(o.sessions,(e,k)=>(c(),l("div",{key:k,class:"flex items-center"},[i("div",Q,[i("div",R,m(e.agent.platform?e.agent.platform:"Unknown")+" - "+m(e.agent.browser?e.agent.browser:"Unknown"),1),i("div",null,[i("div",W,[t(m(e.ip_address)+", ",1),e.is_current_device?(c(),l("span",X,"This device")):(c(),l("span",Y,"Last active "+m(e.last_active),1))])])])]))),128))])):O("",!0),i("div",Z,[a(g,{type:"primary",onClick:o.confirmLogout,class:"login-form-button"},{default:s(()=>[t("Log Out Other Browser SessionsSessions")]),_:1},8,["onClick"]),a(y,{on:o.form.recentlySuccessful,class:"ms-3"},{default:s(()=>[t(" Done. ")]),_:1},8,["on"])]),a(S,{show:o.confirmingLogout,onClose:o.closeModal},{title:s(()=>[t(" Log Out Other Browser Sessions ")]),content:s(()=>[t(" Please enter your password to confirm you would like to log out of your other browser sessions across all of your devices. "),i("div",oo,[a(w,{ref:"passwordInput",modelValue:o.form.password,"onUpdate:modelValue":n[0]||(n[0]=e=>o.form.password=e),type:"password",class:"mt-1 block w-3/4",placeholder:"Password",autocomplete:"current-password",onKeyup:A(o.logoutOtherBrowserSessions,["enter"])},null,8,["modelValue","onKeyup"]),a(h,{message:o.form.errors.password,class:"mt-2"},null,8,["message"])])]),footer:s(()=>[a(v,{onClick:o.closeModal},{default:s(()=>[t(" Cancel ")]),_:1},8,["onClick"]),a(B,{class:T(["ms-3",{"opacity-25":o.form.processing}]),disabled:o.form.processing,onClick:o.logoutOtherBrowserSessions},{default:s(()=>[t(" Log Out Other Browser Sessions ")]),_:1},8,["class","disabled","onClick"])]),_:1},8,["show","onClose"])]),_:1})}const go=K(G,[["render",so]]);export{go as default};
